<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Issue</title>
  <link rel="stylesheet" href="../../styles/style.css" />
  <link rel="stylesheet" href="../../styles/headerStyle.css" />
  <link rel="stylesheet" href="../../styles/addBookStyle.css" />
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    rel="stylesheet"
  />
  <script src="/scripts/addIssueScript.js" defer></script>
</head>
<body>
  <%- include('../templates/adminHeader') %>

  <!-- Add Issue Container -->
  <div class="add-book-container">
    <!-- Modal -->
    <div class="modal" id="book-modal">
      <div class="modal-content">
        <h2 class="add-title" style="font-size: 24px;">
          Nhập thông tin số phát hành cần thêm
        </h2>

        <!-- Form -->
        <form action="/api/issue/store" class="form-book-content" id="form-add-issue-content" method="post">
          <!-- Announce Error -->
          <% if (typeof error !== 'undefined' && error) { %>
            <div class="announce-error" id="announce-error">
              <%= error %>
            </div>
          <% } %>

          <!-- BookID -->
          <label for="bookID">ID của sách:</label>
          <input type="text" id="bookID" name="BookID" readonly>

          <!-- ISSN -->
          <label for="ISSN" class="required">ISSN</label>
          <input type="text" name="ISSN" id="ISSN" placeholder="Nhập ISSN" required />

          <!-- Issue Number -->
          <label for="issue-number" class="required">Số phát hành:</label>
          <input type="text" id="issue-number" name="IssueNumber" placeholder="Nhập mô tả" required />

          <!-- Publication Date -->
          <label for="pub-date" class="required">Ngày xuất bản</label>
          <input type="date" id="pub-date" name="PubDate" required />

          <!-- Pages -->
          <label class="required" for="pages-num">Số trang</label>
          <input type="text" name="Pages" id="pages-num" placeholder="Nhập số trang (số trang phải lớn hơn 0)" />

          <!-- Special Issue -->
          <label for="special-issue">Số phát hành đặc biệt:</label>
          <input type="checkbox" id="special-issue" name="SpecialIssue" value="1" />
          <span>(Đánh dấu nếu là số phát hành đặc biệt)</span>

          <!-- Volume -->
          <label for="volume" class="required">Số chương:</label>
          <input type="text" name="Volume" id="volume" placeholder="Nhập số chương (số chương phải lớn hơn 0)" />

          <!-- Price -->
          <label class="required" for="price">Giá tiền</label>
          <input type="text" name="Price" id="price" placeholder="Nhập giá tiền (giá tiền phải lớn hơn 0)" />

          <!-- Amount -->
          <label class="required" for="amount">Số lượng hiện có</label>
          <input type="text" name="Amount" id="amount" placeholder="Nhập số lượng hiện có (phải lớn hơn 0)" />

          <!-- Buttons -->
          <div class="button-group">
            <button type="submit" class="add-book-btn">Thêm</button>
            <button type="button" class="close-btn-modal" onclick="closeModal()">Đóng</button>
          </div>

          <!-- Error Message -->
          <div id="error-message" style="display: none; color: red; font-weight: bold;"></div>
        </form>
      </div>
    </div>
  </div>

  <!-- Response Modal -->
  <div class="modal" id="response-modal">
    <div class="response-modal-content">
      <h2 id="response-message"></h2>
      <button id="ok-btn">OK</button>
    </div>
  </div>
</body>
</html>